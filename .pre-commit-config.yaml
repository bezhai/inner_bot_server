repos:
  - repo: local
    hooks:
      # 强兜底方案：仅保留全量 ESLint 与 Build 检查，移除 lint-staged 与全量 format-fix
      - id: main-server-lint-check
        name: Check main-server lint (full project)
        entry: bash -c 'cd main-server && npx eslint src --ext .ts'
        language: system
        files: ^main-server/.*\.(ts|tsx|js|jsx)$
        pass_filenames: false

      - id: main-server-build-check
        name: Check main-server build
        entry: bash -c 'cd main-server && npm run build'
        language: system
        files: ^main-server/.*\.(ts|tsx|js|jsx)$
        pass_filenames: false